var dataUrl="http://localhost:1337/restaurants",CACHE_NAME="cache-v4",urlsToCache=["/",".","img/1.jpg","img/2.jpg","img/3.jpg","img/4.jpg","img/5.jpg","img/6.jpg","img/7.jpg","img/8.jpg","img/9.jpg","img/1-128w.jpg","img/2-128w.jpg","img/3-128w.jpg","img/4-128w.jpg","img/5-128w.jpg","img/6-128w.jpg","img/7-128w.jpg","img/8-128w.jpg","img/9-128w.jpg","img/1-400w.jpg","img/2-400w.jpg","img/3-400w.jpg","img/4-400w.jpg","img/5-400w.jpg","img/6-400w.jpg","img/7-400w.jpg","img/8-400w.jpg","img/9-400w.jpg",
"img/1-500w.jpg","img/2-500w.jpg","img/3-500w.jpg","img/4-500w.jpg","img/5-500w.jpg","img/6-500w.jpg","img/7-500w.jpg","img/8-500w.jpg","img/9-500w.jpg","img/1.webp","img/2.webp","img/3.webp","img/4.webp","img/5.webp","img/6.webp","img/7.webp","img/8.webp","img/9.webp","index.html","restaurant.html","css/allStyles.css","js/allMain.min.js","js/allRestaurant.min.js",dataUrl];
self.addEventListener("install",function(a){a.waitUntil(caches.open(CACHE_NAME).then(function(a){console.log("Opened cache");return a.addAll(urlsToCache)}))});
self.addEventListener("fetch",function(a){"only-if-cached"===a.request.cache&&"same-origin"!==a.request.mode||a.respondWith(caches.match(a.request).then(function(e){if(a.request.url==dataUrl){console.log("fetching data url:"+a.request.url);var c=indexedDB.open("restaurantDB",8);c.onerror=function(a){console.log("indexedDB error: "+this.error)};c.onsuccess=function(a){console.log("Database initialised succesfully");var d=a.target.result;d.onerror=function(a){console.log("Database error: "+a.target.errorCode)};
var b=d.transaction(["restaurants"],"readwrite");b.objectStore("restaurants");fetch(dataUrl).then(function(a){console.log("data url fetched");console.log(a);return a.json()}).then(function(a){console.log("data: "+a);var b=d.transaction(["restaurants"],"readwrite").objectStore("restaurants");a.forEach(function(a){b.put(a)})});b.oncomplete=function(){console.log("Transaction completed: database modification finished")};b.onerror=function(){console.log("Transaction not opened due to error: "+b.error)}};
c.onupgradeneeded=function(a){console.log("onupgradeneeded request triggered: "+a);a=a.target.result;a.onerror=function(a){console.log("Error loading database")};a.onversionchange=function(a){console.log("version changed, user should be informed")};a.createObjectStore("restaurants",{keyPath:"name"});console.log("onupgradeneeded event triggered, object store restaurants created")}}return e||fetch(a.request)}))});